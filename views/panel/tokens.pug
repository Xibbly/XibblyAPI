extends ../template

append head

append title
    | Panel - zarządzanie tokenami


append content
    if user.permissions.includes('*') || user.permissions.includes('unlimited_tokens')
        center
            a(href='/tokens/generate')
                button Generuj

    else if user.permissions.includes('premium') && tokens.length < process.env.MAX_PREMIUM_TOKENS
        center
            a(href='/tokens/generate')
                button Generuj

    else if tokens.length < process.env.MAX_TOKENS
        center
            a(href='/tokens/generate')
                button Generuj

    else
        center
            | Nie możesz generować więcej tokenów.

    br

    if tokens.length != 0
        each token in tokens
            h5(onclick='navigator.clipboard.writeText(\'' + token.token + '\'); alert(\'Twój token został skopiowany do schowka\')' title='Skopiuj!')
                | TOKEN: #{token.token.slice(0, 20)}...
                p
                    | Stworzony: #{token.createdAt}
                    br
                    | Modyfikowany: #{token.modifiedAt}
                a(href='/tokens/regenerate?token=' + token.token)
                    button Regeneruj
                a(href='/tokens/delete?token=' + token.token)
                    button Usuń
    else
        center
            | Nie posiadasz tokenów? Wygeneruj
        br